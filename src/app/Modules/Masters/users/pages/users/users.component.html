<div class="inner-content">

  <h3 class="content-title">User Master</h3>


  <div class="page-btns-col">

    <div class="tblsort">
      <label class="col-form-label">Show</label>
      <select id="itemsPerPageSelect" class="form-select" [(ngModel)]="publicVariable.tableSize"
        (change)="onTableSizeChange($event)">
        <option *ngFor="let size of publicVariable.tableSizes" [value]="size">{{ size }}</option>
      </select>
    </div>

    <div class="dt-buttons">
      <button class="gray-btns" type="button" (click)="onDownload()"><img src="../assets/images/excel-icon.png"
          alt=""></button>
    </div>

    <!-- Example single danger button -->
    <div class="topbr-btns">
      <div class="btn-group">
        <div class="table-search"><input type="text" class="form-control" [(ngModel)]="publicVariable.searchText"
          name="name" id="name" placeholder="Search here"></div>
      </div>
    </div>

    <div class="common-box"><a routerLink="add" class="common-btn">Add New</a></div>

  </div>

  <div class="inner-middle-content">
    <div class="dasboard-table">

      <div class="table-responsive">

        <table class="table">
          <thead>
            <tr>
              <th>#</th>
              <th>Employee ID</th>
              <th>Name</th>
              <th>Email</th>
              <th>Username</th>
              <th>Role</th>
              <th>Active</th>
              <th class="action-cl">Action</th>
            </tr>
          </thead>
          <tbody>
            <tr
              *ngFor="let user of  this.publicVariable.userlist | searchFilter: publicVariable.searchText| paginate: {itemsPerPage: publicVariable.tableSize,currentPage: publicVariable.page,totalItems: publicVariable.count};let i = index">
              <td>{{i + 1}}</td>
              <td>{{ user.imeM_EmpId }}</td>
              <td>{{ user.imeM_Name }}</td>
              <td>{{ user.imeM_Email }}</td>
              <td>{{ user.imeM_Username || 'Null'}}</td>
              <td>{{ user.roleName }}</td>
              <td *ngIf="user.isActive === true"><span class="status text-success">•</span> Yes</td>
              <td *ngIf="user.isActive === false"><span class="status text-danger">•</span> No</td>
              <td>
                <span class="table-btns">
                  <a (click)="onEdit(user)"><img src="../assets/images/edit-icon.svg" alt=""></a>
                  <a (click)="onDelete(user.imeM_ID)"><img src="../assets/images/delete-icon.svg" alt=""></a>
                </span>
              </td>
            </tr>
          </tbody>
        </table>
        <div *ngIf="!publicVariable.userlist || publicVariable.userlist.length === 0">
          <p>No data found.</p>
        </div>
        <div class="text-center"
        *ngIf="(publicVariable.userlist | searchFilter: publicVariable.searchText).length === 0 && publicVariable.userlist.length > 0">
        <strong class="text-danger">No results found.</strong>
      </div>
      </div>

      <div class="clearfix">
        <div class="hint-text">Showing <b>{{this.publicVariable.tableSize}}</b> out of <b>{{ publicVariable.count }}</b>
          entries</div>
        <pagination-controls previousLabel="Prev" class="pagination"
          *ngIf="publicVariable.userlist && publicVariable.userlist.length > 0" nextLabel="Next"
          (pageChange)="onTableDataChange($event)">
        </pagination-controls>
      </div>


    </div>
  </div>


</div>
